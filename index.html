<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <div id="container">
        <div>
            <button id="rock">ROCK</button>
        </div>
        <div>
            <button id="paper">PAPER</button>
        </div>
        <div>
            <button id="scissors">SCISSOR</button>
        </div>
    </div>
    <div id="resultsContainer">
        <div id="result">

        </div>
        <div id="player">
            
        </div>
        <div id="computer">
            
        </div>
    </div>
    <script>
        
        let player = 0;
        let computer = 0;
        
        function getComputerChoice() {
            const choice = Math.floor((Math.random() *3 ) + 1);
            if (choice === 1) {
                return "rock";
            } else if (choice === 2) {
                return "scissors";
            }
            else if(choice === 3) {
                return "paper";
            }
        };

        function update(score) {
            if (score.includes('Win')) {
                player++;
                document.getElementById('player').textContent = "Player: " + player;
            } else if (score.includes('Lose')) {
                computer++;
                document.getElementById('player').textContent = "Computer: " + computer;
            }
            
        };

        function playRound(playerSelection, computerSelection) {
            if (playerSelection === "rock" && computerSelection === "paper") {
                return "You Lose! Paper beats Rock";
            } else if (playerSelection === "rock" && computerSelection === "scissors") {
                return "You Win! Rock beats Scissors!";
            } else if (playerSelection === "rock" && computerSelection === "rock") {
                return  "Its a Draw";
            } else if (playerSelection === "paper" && computerSelection === "scissors") {
                return "You Lose! Scissors beats Paper!";
            } else if (playerSelection === "paper" && computerSelection === "rock") {
                return  "You Win! Paper beats Rock!";
            } else if (playerSelection === "paper" && computerSelection === "paper") {
                return "Its a Draw";
            } else if (playerSelection === "scissors" && computerSelection === "scissors") {
                return "Its a Draw";
            } else if (playerSelection === "scissors" && computerSelection === "paper") {
                return "You Win! Scissors beats Paper!";
            } else if (playerSelection === "scissors" && computerSelection === "rock") {
                return "You Lose! Rock beats Scissors!";
            }
        };

        let computerSelection = getComputerChoice();
        let playerSelection = document.querySelectorAll("button");
        playerSelection.forEach((selection) => {
        selection.addEventListener('click', () => {  
        playerSelection = selection.id;
        let gameResult = playRound(playerSelection, computerSelection);
        update(gameResult);
        if (player === 5) {
            document.getElementById('result').textContent = "Player Wins ";
            player = 0;
            computer = 0;
        } else if (computer === 5) {
            document.getElementById('result').textContent = "Comupter Wins ";
            player = 0;
            computer = 0;
        } else {
            document.getElementById('player').textContent = "Player: " + player;
            document.getElementById('computer').textContent = "Computer: " + computer;
            computerSelection = getComputerChoice();
            document.getElementById('result').innerText = "";
        }
    })

})
    
    playRound(playerSelection, computerSelection)
    
    </script>
</body>
</html>